# {{ if .Values.acs.enabled }}
# apiVersion: policy.open-cluster-management.io/v1
# kind: Policy
# metadata:
#   name: rhtas
#   annotations:
#     policy.open-cluster-management.io/description: Creates the rhtas
#     policy.open-cluster-management.io/categories: CM Configuration Management
#     policy.open-cluster-management.io/standards: NIST SP 800-53
#     policy.open-cluster-management.io/controls: CM-2 Baseline Configuration
# spec:
#   disabled: false
#   remediationAction: enforce
#   policy-templates:
#     - objectDefinition:
#         apiVersion: policy.open-cluster-management.io/v1
#         kind: ConfigurationPolicy
#         metadata:
#           name: rhtas
#         spec:
#           remediationAction: enforce
#           severity: low
#           object-templates:
#             - complianceType: musthave
#               objectDefinition:
#                 apiVersion: argoproj.io/v1alpha1
#                 kind: Application
#                 metadata:
#                   name: rhtas-plugin
#                   namespace: "{{ .Values.gitops.namespace }}"
#                 spec:
#                   destination:
#                     namespace: rhtas
#                     server: https://kubernetes.default.svc
#                   source:
#                     chart: rhtas
#                     repoURL: "https://poc-examples.github.io/charts"
#                     targetRevision: "{{ .Values.rhtas.chartVersion }}"
#                     helm:
#                       valuesObject:
#                         domain: "{{ .Values.domain }}"
#                   project: plugins
#                   syncPolicy:
#                     automated:
#                       prune: true
#                       selfHeal: true
#                     managedNamespaceMetadata:
#                       labels:
#                         argocd.argoproj.io/managed-by: "{{ .Values.gitops.namespace }}"
#                     syncOptions:
#                       - CreateNamespace=true
#                       - Validate=false
# {{ end }}
